{
	"info": {
		"_postman_id": "12345678-1234-1234-1234-123456789abc",
		"name": "Wallet App API Testovi",
		"description": "Testovi za wallet aplikaciju - druga kontrolna tačka\n\nOva kolekcija sadrži testove za sve API endpoint-e:\n- Autentifikacija (registracija, login)\n- Upravljanje korisnicima\n- Upravljanje novčanicima\n- Upravljanje transakcijama\n- Upravljanje kategorijama\n- Upravljanje valutama\n- Upravljanje štednim ciljevima\n\nSvi testovi su napisani na srpskom jeziku.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Autentifikacija",
			"item": [
				{
					"name": "Registracija korisnika",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"testuser\",\n    \"email\": \"test@example.com\",\n    \"password\": \"password123\",\n    \"firstName\": \"Test\",\n    \"lastName\": \"User\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						},
						"description": "Test registracije novog korisnika"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Odgovor sadrži korisnika', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData).to.have.property('username');",
									"    pm.expect(jsonData.username).to.eql('testuser');",
									"});",
									"",
									"pm.test('Password nije u odgovoru', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.not.have.property('password');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				},
				{
					"name": "Login korisnika",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"testuser\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						},
						"description": "Test login-a korisnika"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Login je uspešan', function () {",
									"    var responseText = pm.response.text();",
									"    pm.expect(responseText).to.include('Login successful');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				},
				{
					"name": "Login sa pogrešnim kredencijalima",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"testuser\",\n    \"password\": \"pogresnapassword\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						},
						"description": "Test login-a sa pogrešnim kredencijalima"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 401', function () {",
									"    pm.response.to.have.status(401);",
									"});",
									"",
									"pm.test('Poruka o grešci', function () {",
									"    var responseText = pm.response.text();",
									"    pm.expect(responseText).to.include('Invalid credentials');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				}
			],
			"description": "Testovi za autentifikaciju korisnika"
		},
		{
			"name": "Korisnici",
			"item": [
				{
					"name": "Dohvatanje svih korisnika",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users"
							]
						},
						"description": "Test dohvatanja svih korisnika"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Odgovor je lista', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				},
				{
					"name": "Dohvatanje korisnika po ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/users/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users",
								"1"
							]
						},
						"description": "Test dohvatanja korisnika po ID-u"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Odgovor sadrži korisnika', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData).to.have.property('username');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				},
				{
					"name": "Kreiranje novog korisnika",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"novikorisnik\",\n    \"email\": \"novi@example.com\",\n    \"password\": \"password123\",\n    \"firstName\": \"Novi\",\n    \"lastName\": \"Korisnik\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/users",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"users"
							]
						},
						"description": "Test kreiranja novog korisnika"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 201', function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test('Korisnik je kreiran', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData.username).to.eql('novikorisnik');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				}
			],
			"description": "Testovi za upravljanje korisnicima"
		},
		{
			"name": "Novčanici",
			"item": [
				{
					"name": "Dohvatanje svih novčanika",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/wallets",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"wallets"
							]
						},
						"description": "Test dohvatanja svih novčanika"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Odgovor je lista', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				},
				{
					"name": "Kreiranje novog novčanika",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Moj novčanik\",\n    \"balance\": 1000.00,\n    \"userId\": 1,\n    \"currencyId\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/wallets",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"wallets"
							]
						},
						"description": "Test kreiranja novog novčanika"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 201', function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test('Novčanik je kreiran', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData.name).to.eql('Moj novčanik');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				},
				{
					"name": "Dodavanje novca u novčanik",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"amount\": 500.00\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/wallets/1/add-balance",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"wallets",
								"1",
								"add-balance"
							]
						},
						"description": "Test dodavanja novca u novčanik"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Balans je ažuriran', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('balance');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				}
			],
			"description": "Testovi za upravljanje novčanicima"
		},
		{
			"name": "Transakcije",
			"item": [
				{
					"name": "Dohvatanje svih transakcija",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/transactions",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"transactions"
							]
						},
						"description": "Test dohvatanja svih transakcija"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Odgovor je lista', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				},
				{
					"name": "Kreiranje nove transakcije",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"amount\": 100.00,\n    \"description\": \"Test transakcija\",\n    \"type\": \"EXPENSE\",\n    \"walletId\": 1,\n    \"categoryId\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/transactions",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"transactions"
							]
						},
						"description": "Test kreiranja nove transakcije"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 201', function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test('Transakcija je kreirana', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData.amount).to.eql(100.00);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				}
			],
			"description": "Testovi za upravljanje transakcijama"
		},
		{
			"name": "Kategorije",
			"item": [
				{
					"name": "Dohvatanje svih kategorija",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/categories",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"categories"
							]
						},
						"description": "Test dohvatanja svih kategorija"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Odgovor je lista', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				},
				{
					"name": "Kreiranje nove kategorije",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Hrana\",\n    \"description\": \"Troškovi za hranu\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/categories",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"categories"
							]
						},
						"description": "Test kreiranja nove kategorije"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 201', function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test('Kategorija je kreirana', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData.name).to.eql('Hrana');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				}
			],
			"description": "Testovi za upravljanje kategorijama"
		},
		{
			"name": "Valute",
			"item": [
				{
					"name": "Dohvatanje svih valuta",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/currencies",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"currencies"
							]
						},
						"description": "Test dohvatanja svih valuta"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Odgovor je lista', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				},
				{
					"name": "Kreiranje nove valute",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"EUR\",\n    \"symbol\": \"€\",\n    \"exchangeRate\": 117.50\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/currencies",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"currencies"
							]
						},
						"description": "Test kreiranja nove valute"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 201', function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test('Valuta je kreirana', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData.name).to.eql('EUR');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				}
			],
			"description": "Testovi za upravljanje valutama"
		},
		{
			"name": "Štedni ciljevi",
			"item": [
				{
					"name": "Dohvatanje svih štednih ciljeva",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/savings-goals",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"savings-goals"
							]
						},
						"description": "Test dohvatanja svih štednih ciljeva"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Odgovor je lista', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				},
				{
					"name": "Kreiranje novog štednog cilja",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Letovanje\",\n    \"targetAmount\": 50000.00,\n    \"currentAmount\": 10000.00,\n    \"targetDate\": \"2024-06-01\",\n    \"userId\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/savings-goals",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"savings-goals"
							]
						},
						"description": "Test kreiranja novog štednog cilja"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 201', function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test('Štedni cilj je kreiran', function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData.name).to.eql('Letovanje');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				}
			],
			"description": "Testovi za upravljanje štednim ciljevima"
		},
		{
			"name": "Status aplikacije",
			"item": [
				{
					"name": "Health check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Test health check endpoint-a"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Odgovor je OK', function () {",
									"    var responseText = pm.response.text();",
									"    pm.expect(responseText).to.eql('OK');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				},
				{
					"name": "Status aplikacije",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								""
							]
						},
						"description": "Test status endpoint-a aplikacije"
					},
					"response": [],
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Status je 200', function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test('Odgovor sadrži status', function () {",
									"    var responseText = pm.response.text();",
									"    pm.expect(responseText).to.include('WALLET APP');",
									"    pm.expect(responseText).to.include('AKTIVAN');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					]
				}
			],
			"description": "Testovi za status aplikacije"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Postavka base URL-a ako nije definisan",
					"if (!pm.environment.get('base_url')) {",
					"    pm.environment.set('base_url', 'http://localhost:8080');",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Globalni testovi za sve zahteve",
					"pm.test('Vreme odgovora je prihvatljivo', function () {",
					"    pm.expect(pm.response.responseTime).to.be.below(5000);",
					"});",
					"",
					"pm.test('Content-Type je JSON za POST/PUT zahteve', function () {",
					"    if (pm.request.method === 'POST' || pm.request.method === 'PUT') {",
					"        pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
					"    }",
					"});"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080",
			"type": "string"
		}
	]
}
